<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RKH: rkh.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>rkh.h File Reference</h1>
<p>RKH platform-independent interface.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="rkh_8h_source.html">rkhitl.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rkhitl_8h_source.html">rkhitl.h</a>&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>

<p><a href="rkh_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a0a70ee0cbf5b1738be4c9463c529ce72">ELSE</a>&nbsp;&nbsp;&nbsp;rkh_else</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a290baf778561e431e02c611bb5dd9146">RKH_CREATE_HSM</a>(sm_t, name, id, ppty, is, ia, hd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro creates a state machine object derived from <a class="el" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a>.  <a href="#a290baf778561e431e02c611bb5dd9146"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#acc24b2221cd374e66732a09fb24b56ce">RKH_CREATE_COMP_STATE</a>(name, id, en, ex, parent, defchild, history)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro creates a composite state.  <a href="#acc24b2221cd374e66732a09fb24b56ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a3567a7f91a5dc5759747dc8528357b44">RKH_CREATE_BASIC_STATE</a>(name, id, en, ex, parent, prepro)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro creates a basic state.  <a href="#a3567a7f91a5dc5759747dc8528357b44"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ade7387dead9112bd67580de3350aee51">RKH_CREATE_COND_STATE</a>(name, id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro creates a conditional pseudostate.  <a href="#ade7387dead9112bd67580de3350aee51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a9f73c81d95a4bd5bec21e10ea6f05add">RKH_CREATE_JUNCTION_STATE</a>(name, id, action, target)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro creates a junction pseudostate.  <a href="#a9f73c81d95a4bd5bec21e10ea6f05add"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a49995aa34cddd68fcc6416655ca408f8">RKH_CREATE_DEEP_HISTORY_STATE</a>(name, id, parent)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro creates a deep history pseudostate.  <a href="#a49995aa34cddd68fcc6416655ca408f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a7a5376dd9929642f5b6e31def6d92bb4">RKH_CREATE_SHALLOW_HISTORY_STATE</a>(name, id, parent)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro creates a shallow history pseudostate.  <a href="#a7a5376dd9929642f5b6e31def6d92bb4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aef55bd044383009972f38c332f8210a9">RKH_CREATE_TRANS_TABLE</a>(name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ab0fc2ccb4b73d57ea0c0f478353a00f6">RKH_TRREG</a>(e, g, a, t)&nbsp;&nbsp;&nbsp;{ e, g, a, t }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro defines a regular state transition.  <a href="#ab0fc2ccb4b73d57ea0c0f478353a00f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ac257d157f98ef172e5e8c8725a293bdf">RKH_TRINT</a>(e, g, a)&nbsp;&nbsp;&nbsp;{ e, g, a, NULL }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro defines an internal state transition.  <a href="#ac257d157f98ef172e5e8c8725a293bdf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a0e90290b709c86a39384ea5a4c95ac4f">RKH_END_TRANS_TABLE</a>&nbsp;&nbsp;&nbsp;RKH_ETRTBL};</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a57353c7dab6539b0a7ae92142b73ad2e">RKH_CREATE_BRANCH_TABLE</a>(name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ad1ebb38b7398d7f4ec60ef3e0922d033">RKH_BRANCH</a>(g, a, t)&nbsp;&nbsp;&nbsp;{ 0, g, a, t }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro defines a branch in the branch table.  <a href="#ad1ebb38b7398d7f4ec60ef3e0922d033"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a179912e226da08c982c9e93d77886c53"></a><!-- doxytag: member="rkh.h::RKH_END_BRANCH_TABLE" ref="a179912e226da08c982c9e93d77886c53" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a179912e226da08c982c9e93d77886c53">RKH_END_BRANCH_TABLE</a>&nbsp;&nbsp;&nbsp;RKH_EBTBL};</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro is used to terminate a state transition table. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2b1332a21797445c49710b6074ddb9b"></a><!-- doxytag: member="rkh.h::RKH_ROOT" ref="af2b1332a21797445c49710b6074ddb9b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#af2b1332a21797445c49710b6074ddb9b">RKH_ROOT</a>&nbsp;&nbsp;&nbsp;NULL</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro indicates the root state of a state machine. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a0681b6c5bbb43a2290ed60b021c2abd1">RKH_DCLR_HSM</a>(h)&nbsp;&nbsp;&nbsp;extern <a class="el" href="struct_r_k_h___t.html">RKH_T</a> * const h</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro declares a opaque pointer to previously created state machine to be used as a global object.  <a href="#a0681b6c5bbb43a2290ed60b021c2abd1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#afafab03a0e8aa09a8ef350afa1c59964">RKH_DCLR_SM_GLOBAL</a>(sm_t, sm, gob)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declares a previously created state machine to be used as a global object.  <a href="#afafab03a0e8aa09a8ef350afa1c59964"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aa3d052c0df7c60868b53bb1b4eafd633">rkh_alloc_event</a>(et, e)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro dynamically creates a new event of type 'et' with the signal.  <a href="#aa3d052c0df7c60868b53bb1b4eafd633"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a17ecc578a95f10567c300a1cf648e13d">rkh_set_static_event</a>(evt, es)&nbsp;&nbsp;&nbsp;mksevt( evt, es )</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro set the event 'evt' with 'e' signal and establishes it as one static event.  <a href="#a17ecc578a95f10567c300a1cf648e13d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ae32100c17bee5afab9b31d9132ad41bb">rkh_get_cstate_id</a>(ph)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro retrieves the state ID of state machine control block.  <a href="#ae32100c17bee5afab9b31d9132ad41bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a9417335cf8e391658a5566c695c2813b">rkh_get_cstate_name</a>(ph)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro retrieves the current state name of state machine control block.  <a href="#a9417335cf8e391658a5566c695c2813b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a7fe577bfbd5492f9e946a22d1e88c70d">rkh_get_data</a>(ph)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro retrieves the state-machine's data.  <a href="#a7fe577bfbd5492f9e946a22d1e88c70d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aafa7b99c6789668667bf529f20bb6c65">rkh_get_sdata</a>(ph)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro retrieves the state's abstract data.  <a href="#aafa7b99c6789668667bf529f20bb6c65"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ab856423b3e65be3f55b7df3b2984e5fe">RKH_DCLR_COMP_STATE</a>&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_r_e_g___t.html">RKHSREG_T</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a483ad8fd1a11d5b823e58a2884e40f22">RKH_DCLR_BASIC_STATE</a>&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_r_e_g___t.html">RKHSREG_T</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ae15f169feaafe7cf7e335e24e76039b9">RKH_DCLR_COND_STATE</a>&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_c_o_n_d___t.html">RKHSCOND_T</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a2862a673eba565cd2888ca5fb3405a38">RKH_DCLR_JUNC_STATE</a>&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_j_u_n_c___t.html">RKHSJUNC_T</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a042e46c64f90aa08a92db9e9d30e1959">RKH_DCLR_DHIST_STATE</a>&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#aa618e2849fbd748f672bd5e0b3b6bb16">RKH_DCLR_SHIST_STATE</a>&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3">RKH_RCODE_T</a> { <br/>
&nbsp;&nbsp;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a567323b6c0efa1f3368064615c9d5dcd">RKH_OK</a>, 
<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a0c9fe6c670ea1e83ca5c3a5666ca1181">RKH_INPUT_NOT_FOUND</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a24fbaf67d8677779b69f3a133ec22772">RKH_CONDITION_NOT_FOUND</a>, 
<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3ae46b1cbd592c25a27720783efb3b21f4">RKH_GUARD_FALSE</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a067ecd2890ffed78d08680c9f029594c">RKH_UNKNOWN_STATE</a>, 
<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a42666d274d23ded0e35db3b52a6681e8">RKH_EXCEED_HCAL_LEVEL</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3a793e9c62f0ebf4bb3c221567ff80bf77">RKH_EXCEED_TR_SEGS</a>, 
<a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3adb6db8102ad27b1b187bc07070669243">RKH_NUM_CODES</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7">RKH_HPPTY_T</a> { <br/>
&nbsp;&nbsp;<a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda">HCAL</a>, 
<a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7a0338024d4d0d5bffed604c279f8f5550">FLAT</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7aac7de3818e7e86853c5306edd63bced3">RKH_NUM_HPPTY</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>State machine properties. </p>
 <a href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="rkh_8h.html#a06fc87d81c62e9abb8790b6e5713c55bab2834a90f78254076ef72298dc9e5e95">RKH_GFALSE</a>, 
<a class="el" href="rkh_8h.html#a06fc87d81c62e9abb8790b6e5713c55bafe08c2d352ce11183556bab12489e736">RKH_GTRUE</a>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ad45fff41ba029b0548a744a846fba126">rkh_put_fifo</a> (HUInt qd, <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *evt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Posts an event directly to the event queue <em>qd</em> using the LIFO policy.  <a href="#ad45fff41ba029b0548a744a846fba126"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#ac66a92c3f209ce2da2b0710e691412bf">rkh_put_lifo</a> (HUInt qd, <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *evt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Posts an event directly to the event queue <em>qd</em> using the FIFO policy.  <a href="#ac66a92c3f209ce2da2b0710e691412bf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#af359d4e8f6cec6ca30f5797ee263af52">rkh_defer</a> (HUInt qd, <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *evt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defer an event to a given separate event queue.  <a href="#af359d4e8f6cec6ca30f5797ee263af52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a7a45f14cc8f32bcad2798dafbe28ed1d">rkh_recall</a> (HUInt qdd, HUInt qds)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recall a deferred event from a given event queue.  <a href="#a7a45f14cc8f32bcad2798dafbe28ed1d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a6d09c23f535c6e03355918e96b802974">rkh_gc</a> (<a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *evt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recycle a dynamic event.  <a href="#a6d09c23f535c6e03355918e96b802974"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a48cd2bb428383f544f4eea92f78b7985">rkh_init_hsm</a> (<a class="el" href="struct_r_k_h___t.html">RKH_T</a> *ph)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inits a previously created state machine calling its initializing function.  <a href="#a48cd2bb428383f544f4eea92f78b7985"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HUInt&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a380f0c7ce60d43d96b7963d12f4aae55">rkh_engine</a> (<a class="el" href="struct_r_k_h___t.html">RKH_T</a> *ph, <a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *pevt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Executes a state machine in a non-preemtive model.  <a href="#a380f0c7ce60d43d96b7963d12f4aae55"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a522044fea14a01a5197ccd35a5a0eb79">rkh_clear_history</a> (rkhrom <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a> *h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase the history of a state. It can be a shallow or deep history.  <a href="#a522044fea14a01a5197ccd35a5a0eb79"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a8738812d2675799e9a982e86fb5c4e52">rkh_clear_info</a> (<a class="el" href="struct_r_k_h___t.html">RKH_T</a> *ph)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear performance information for a particular state machine.  <a href="#a8738812d2675799e9a982e86fb5c4e52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_r_k_h___i_n_f_o___t.html">RKH_INFO_T</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rkh_8h.html#a4dc5198b4e6e7d11ce12a53179cba8ce">rkh_get_info</a> (<a class="el" href="struct_r_k_h___t.html">RKH_T</a> *ph)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves performance information for a particular state machine.  <a href="#a4dc5198b4e6e7d11ce12a53179cba8ce"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>RKH platform-independent interface. </p>
<p>This header file must be included in all modules (*.c files) that use RKH. </p>

<p>Definition in file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a0a70ee0cbf5b1738be4c9463c529ce72"></a><!-- doxytag: member="rkh.h::ELSE" ref="a0a70ee0cbf5b1738be4c9463c529ce72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ELSE&nbsp;&nbsp;&nbsp;rkh_else</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Each condition connector can have one special branch with a guard labeled ELSE, which is taken if all the guards on the other branches are false.</p>
<p>A guard function takes the state machine pointer and the event pointer as arguments. These parameters are optional in compile-time according to RKH_EN_GRD_EVT_ARG and RKH_EN_GRD_HSM_ARG. </p>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00110">110</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa3d052c0df7c60868b53bb1b4eafd633"></a><!-- doxytag: member="rkh.h::rkh_alloc_event" ref="aa3d052c0df7c60868b53bb1b4eafd633" args="(et, e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rkh_alloc_event</td>
          <td>(</td>
          <td class="paramtype">et, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">e&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                (et*)<a class="code" href="rkhitl_8h.html#adbd1a50ba630ea1a0dc689f14f28801b">rkh_ae</a>(<span class="keyword">sizeof</span>(et),(<a class="code" href="rkhitl_8h.html#a0bf45cc6ed91f21b3c840d0b29c450b2">RKHE_T</a>)(e))
</pre></div>
<p>This macro dynamically creates a new event of type 'et' with the signal. </p>
<p>The basic policy is to allocate the event from the first pool that has a block size big enough to fit the requested event size. RKH can manage up to three event pools (e.g., small, medium, and large events, like shirt sizes). Thus, ensure the It returns a pointer to the event already cast to the event type (et*). Here is an example of dynamic event allocation with the macro <a class="el" href="rkh_8h.html#aa3d052c0df7c60868b53bb1b4eafd633" title="This macro dynamically creates a new event of type &#39;et&#39; with the signal.">rkh_alloc_event()</a>:</p>
<div class="fragment"><pre class="fragment">    MYEVT_T *mye = <a class="code" href="rkh_8h.html#aa3d052c0df7c60868b53bb1b4eafd633" title="This macro dynamically creates a new event of type &amp;#39;et&amp;#39; with the signal.">rkh_alloc_event</a>( MYEVT_T, DATA );
    mye-&gt;y = mye-&gt;x = 0;
    ...
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>The assertions inside <a class="el" href="rkhitl_8h.html#adbd1a50ba630ea1a0dc689f14f28801b">rkh_ae()</a> function guarantee that the pointer is valid, so you don't need to check the pointer returned from <a class="el" href="rkhitl_8h.html#adbd1a50ba630ea1a0dc689f14f28801b">rkh_ae()</a>, unlike the value returned from malloc(), which you should check.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>et</em>&nbsp;</td><td>type of event. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>event signal. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00731">731</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad1ebb38b7398d7f4ec60ef3e0922d033"></a><!-- doxytag: member="rkh.h::RKH_BRANCH" ref="ad1ebb38b7398d7f4ec60ef3e0922d033" args="(g, a, t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_BRANCH</td>
          <td>(</td>
          <td class="paramtype">g, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;{ 0, g, a, t }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro defines a branch in the branch table. </p>
<p>Each condition connector can have one special branch with a guard labeled rkh_else, which is taken if all the guards on the other branches are false.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>g</em>&nbsp;</td><td>branch guard. Branches are labeled with guards that determine which one is to be actually taken. Use rkh_else when if all the guards on the other branches are false. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>pointer to action function. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>pointer to target state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00488">488</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3567a7f91a5dc5759747dc8528357b44"></a><!-- doxytag: member="rkh.h::RKH_CREATE_BASIC_STATE" ref="a3567a7f91a5dc5759747dc8528357b44" args="(name, id, en, ex, parent, prepro)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_BASIC_STATE</td>
          <td>(</td>
          <td class="paramtype">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">en, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ex, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parent, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">prepro&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                <span class="keyword">extern</span> rkhrom <a class="code" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> name##_trtbl[];   \
                                                                        \
                                rkhrom <a class="code" href="struct_r_k_h_s_r_e_g___t.html" title="Describes a regular state.">RKHSREG_T</a> name =                 \
                                {                                       \
                                    mkbase(RKH_BASIC,<span class="keywordtype">id</span>,name),          \
                                    mkbasic(en,ex,parent,name,prepro)   \
                                }
</pre></div>
<p>This macro creates a basic state. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_r_e_g___t.html" title="Describes a regular state.">RKHSREG_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>state name. Represents a basic state structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>the value of state ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>en</em>&nbsp;</td><td>pointer to state entry action. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ex</em>&nbsp;</td><td>pointer to state exit action. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent</em>&nbsp;</td><td>pointer to parent state. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prepro</em>&nbsp;</td><td>pointer to input preprocessor function. This argument is optional, thus it could be declared as NULL. Aditionally, by means of single inheritance in C it could be used as state's abstract data. Aditionally, implementing the single inheritance in C is very simply by literally embedding the base type, RKHPPRO_T in this case, as the first member of the derived structure. See <em>prepro</em> member of <a class="el" href="struct_r_k_h_s_r_e_g___t.html" title="Describes a regular state.">RKHSREG_T</a> structure for more information. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00269">269</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57353c7dab6539b0a7ae92142b73ad2e"></a><!-- doxytag: member="rkh.h::RKH_CREATE_BRANCH_TABLE" ref="a57353c7dab6539b0a7ae92142b73ad2e" args="(name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_BRANCH_TABLE</td>
          <td>(</td>
          <td class="paramtype">name&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                <a class="code" href="rkh_8h.html#aef55bd044383009972f38c332f8210a9">RKH_CREATE_TRANS_TABLE</a>( name )
</pre></div><p>This macro creates a branch table. Use the 'RKH_END_BRANCH_TABLE' macro to terminate the branch table. Use rkh_else when if all the guards on the other branches are false.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>conditional pseudostate name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00464">464</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="acc24b2221cd374e66732a09fb24b56ce"></a><!-- doxytag: member="rkh.h::RKH_CREATE_COMP_STATE" ref="acc24b2221cd374e66732a09fb24b56ce" args="(name, id, en, ex, parent, defchild, history)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_COMP_STATE</td>
          <td>(</td>
          <td class="paramtype">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">en, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ex, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parent, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">defchild, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">history&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                <span class="keyword">extern</span> rkhrom <a class="code" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> name##_trtbl[];   \
                                                                        \
                                rkhrom <a class="code" href="struct_r_k_h_s_r_e_g___t.html" title="Describes a regular state.">RKHSREG_T</a> name =                 \
                                {                                       \
                                    mkbase(RKH_COMPOSITE,<span class="keywordtype">id</span>,name),      \
                                    mkcomp(en,ex,parent,name,           \
                                                defchild,history)       \
                                }
</pre></div>
<p>This macro creates a composite state. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_r_e_g___t.html" title="Describes a regular state.">RKHSREG_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>state name. Represents a composite state structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>the value of state ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>en</em>&nbsp;</td><td>pointer to state entry action. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ex</em>&nbsp;</td><td>pointer to state exit action. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent</em>&nbsp;</td><td>pointer to parent state. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>defchild</em>&nbsp;</td><td>pointer to default child state or pseudostate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>history</em>&nbsp;</td><td>pointer history pseudostate. This argument is optional, thus it could be declared as NULL. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00232">232</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ade7387dead9112bd67580de3350aee51"></a><!-- doxytag: member="rkh.h::RKH_CREATE_COND_STATE" ref="ade7387dead9112bd67580de3350aee51" args="(name, id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_COND_STATE</td>
          <td>(</td>
          <td class="paramtype">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">id&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                <span class="keyword">extern</span> rkhrom <a class="code" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> name##_trtbl[];   \
                                                                        \
                                rkhrom <a class="code" href="struct_r_k_h_s_c_o_n_d___t.html" title="Describes the conditional pseudostate.">RKHSCOND_T</a> name =                \
                                {                                       \
                                    mkbase(RKH_CONDITIONAL,<span class="keywordtype">id</span>,name),    \
                                    name##_trtbl                        \
                                }
</pre></div>
<p>This macro creates a conditional pseudostate. </p>
<p>A condition connector has one incoming transition and can have several outgoing transition segments called branches. Branches are labeled with guards that determine which one is to be actually taken. Since the condition connector is an OR connector, only one of the branches can be taken. Each condition connector can have one special branch with a guard labeled rkh_else, which is taken if all the guards on the other branches are false. Branches cannot contain triggers, but in addition to a guard they may contain actions. A branch can enter another condition connector, thus providing for the nesting of branches.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_c_o_n_d___t.html" title="Describes the conditional pseudostate.">RKHSCOND_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>pseudostate name. Represents a conditional pseudostate structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>the value of state ID. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00302">302</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a49995aa34cddd68fcc6416655ca408f8"></a><!-- doxytag: member="rkh.h::RKH_CREATE_DEEP_HISTORY_STATE" ref="a49995aa34cddd68fcc6416655ca408f8" args="(name, id, parent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_DEEP_HISTORY_STATE</td>
          <td>(</td>
          <td class="paramtype">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parent&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                <span class="keyword">static</span> rkhrom <a class="code" href="struct_r_k_h_s_r_e_g___t.html" title="Describes a regular state.">RKHSREG_T</a> *ram##name;     \
                                                                        \
                                rkhrom <a class="code" href="struct_r_k_h_s_h_i_s_t___t.html" title="Describes the history pseudostate.">RKHSHIST_T</a> name =                \
                                {                                       \
                                    mkbase(RKH_DHISTORY,<span class="keywordtype">id</span>,name),       \
                                    parent,&amp;ram##name                   \
                                }
</pre></div>
<p>This macro creates a deep history pseudostate. </p>
<p>Deep history applies downwards to all levels of nesting.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_h_i_s_t___t.html" title="Describes the history pseudostate.">RKHSHIST_T</a> structure definition for more information.</dd></dl>
<p>Arguments:</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>pseudostate name. Represents a deep history pseudostate structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>the value of state ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent</em>&nbsp;</td><td>pointer to parent state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00357">357</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a290baf778561e431e02c611bb5dd9146"></a><!-- doxytag: member="rkh.h::RKH_CREATE_HSM" ref="a290baf778561e431e02c611bb5dd9146" args="(sm_t, name, id, ppty, is, ia, hd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_HSM</td>
          <td>(</td>
          <td class="paramtype">sm_t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ppty, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">is, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ia, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hd&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
    <span class="keyword">static</span> rkhrom <a class="code" href="struct_r_o_m_r_k_h___t.html" title="Constant parameters of state machine.">ROMRKH_T</a> rs_##name = mkrrkh( <span class="keywordtype">id</span>,ppty,name,is,ia );    \
                <span class="keyword">static</span> sm_t s_##name = mkrkh( &amp;rs_##name,is,hd );       \
                <a class="code" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a> * <span class="keyword">const</span> name = ( <a class="code" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a>* )&amp;s_##name
</pre></div>
<p>This macro creates a state machine object derived from <a class="el" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a>. </p>
<p>Frequently, <a class="el" href="rkh_8h.html#a290baf778561e431e02c611bb5dd9146" title="This macro creates a state machine object derived from RKH_T.">RKH_CREATE_HSM()</a> is used within state-machine's module (.c file), thus the structure definition is in fact entirely encapsulated in its module and is inaccessible to the rest of the application. However, use the <a class="el" href="rkh_8h.html#a0681b6c5bbb43a2290ed60b021c2abd1" title="This macro declares a opaque pointer to previously created state machine to be used...">RKH_DCLR_HSM()</a> macro to declare a "opaque" pointer to that state machine structure to be used in the rest of the application but hiding the proper definition. <a class="el" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a> is not intended to be instantiated directly, but rather serves as the base structure for derivation of state machines in the application code. The following example illustrates how to derive an state machine from <a class="el" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a>. Please note that the <a class="el" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a> member sm is defined as the FIRST member of the derived struct.</p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <span class="comment">//  ...within state-machine&#39;s module</span>

    <span class="keyword">typedef</span> <span class="keyword">struct</span>
    {
        <a class="code" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a> sm;       <span class="comment">// base structure</span>
        rkhuint8 x;     <span class="comment">// private member</span>
        rkhuint8 y;     <span class="comment">// private member</span>
    } MYSM_T;

    <span class="comment">//  static instance of state machine object</span>
    <a class="code" href="rkh_8h.html#a290baf778561e431e02c611bb5dd9146" title="This macro creates a state machine object derived from RKH_T.">RKH_CREATE_HSM</a>( MYSM_T, my, 0, <a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda">HCAL</a>, &amp;S1, my_init, &amp;mydata );

    <span class="comment">//  ...dispatchig events</span>
    <a class="code" href="rkh_8h.html#a380f0c7ce60d43d96b7963d12f4aae55" title="Executes a state machine in a non-preemtive model.">rkh_engine</a>( my, ( <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a>* )myevt );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a> structure definition for more information. Also, <a class="el" href="struct_r_k_h_e_v_t___t.html">single inheritance in C </a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sm_t</em>&nbsp;</td><td>data type of state machine structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>name of state machine. Represents the top state of state diagram. String terminated in '\0' that represents the name of state machine. When a particular application requires runtime debugging (native tracing features), this option must be enabled. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>state machine descriptor. This number allows to uniquely identify a state machine. When a particular application requires runtime debugging (native tracing features), this option must be enabled. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ppty</em>&nbsp;</td><td>state machine properties. The available properties are enumerated in RKH_HPPTY_T enumeration in the <a class="el" href="rkh_8h.html" title="RKH platform-independent interface.">rkh.h</a> file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is</em>&nbsp;</td><td>pointer to regular initial state. This state could be defined either composite or basic. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ia</em>&nbsp;</td><td>pointer to initialization action (optional). The function prototype is defined as RKHINIT_T. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hd</em>&nbsp;</td><td>pointer to state-machine's data (optional). This argument is optional, thus it could be declared as NULL or eliminated with RKH_EN_HSM_DATA option. Could be used to pass arguments to the state machine like an argc/argv. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00206">206</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9f73c81d95a4bd5bec21e10ea6f05add"></a><!-- doxytag: member="rkh.h::RKH_CREATE_JUNCTION_STATE" ref="a9f73c81d95a4bd5bec21e10ea6f05add" args="(name, id, action, target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_JUNCTION_STATE</td>
          <td>(</td>
          <td class="paramtype">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">action, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">target&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                rkhrom <a class="code" href="struct_r_k_h_s_j_u_n_c___t.html" title="Describes the junction pseudostate.">RKHSJUNC_T</a> name =                \
                                {                                       \
                                    mkbase(RKH_JUNCTION,<span class="keywordtype">id</span>,name),       \
                                    action, target                      \
                                }
</pre></div>
<p>This macro creates a junction pseudostate. </p>
<p>Transitions arrows can be joined using junction pseudostate. Multiple entrances and exits may be attached to a junction.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_j_u_n_c___t.html" title="Describes the junction pseudostate.">RKHSJUNC_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>pseudostate name. Represents a junction pseudostate structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>the value of state ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>action</em>&nbsp;</td><td>pointer to transition action. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>pointer to target state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00331">331</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7a5376dd9929642f5b6e31def6d92bb4"></a><!-- doxytag: member="rkh.h::RKH_CREATE_SHALLOW_HISTORY_STATE" ref="a7a5376dd9929642f5b6e31def6d92bb4" args="(name, id, parent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_SHALLOW_HISTORY_STATE</td>
          <td>(</td>
          <td class="paramtype">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parent&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                <span class="keyword">static</span> rkhrom <a class="code" href="struct_r_k_h_s_r_e_g___t.html" title="Describes a regular state.">RKHSREG_T</a> *ram##name;     \
                                                                        \
                                rkhrom <a class="code" href="struct_r_k_h_s_h_i_s_t___t.html" title="Describes the history pseudostate.">RKHSHIST_T</a> name =                \
                                {                                       \
                                    mkbase(RKH_SHISTORY,<span class="keywordtype">id</span>,name),       \
                                    parent,&amp;ram##name                   \
                                }
</pre></div>
<p>This macro creates a shallow history pseudostate. </p>
<p>Shallow history means that history applies to the current nesting context only  states nested more deeply are not affected by the presence of a history pseudostates in a higher context.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_s_h_i_s_t___t.html" title="Describes the history pseudostate.">RKHSHIST_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>pseudostate name. Represents a shallow history pseudostate structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>the value of state ID. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parent</em>&nbsp;</td><td>pointer to parent state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00385">385</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="aef55bd044383009972f38c332f8210a9"></a><!-- doxytag: member="rkh.h::RKH_CREATE_TRANS_TABLE" ref="aef55bd044383009972f38c332f8210a9" args="(name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_CREATE_TRANS_TABLE</td>
          <td>(</td>
          <td class="paramtype">name&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                <span class="keyword">static</span> rkhrom <a class="code" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> name##_trtbl[]={
</pre></div><p>This macro creates a state transition table. Use the 'RKH_END_TRANS_TABLE' macro to terminate the transition table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>state name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00403">403</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a483ad8fd1a11d5b823e58a2884e40f22"></a><!-- doxytag: member="rkh.h::RKH_DCLR_BASIC_STATE" ref="a483ad8fd1a11d5b823e58a2884e40f22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_BASIC_STATE&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_r_e_g___t.html">RKHSREG_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Declares a previously created state/pseudostate to be used as a global object.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00549">549</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab856423b3e65be3f55b7df3b2984e5fe"></a><!-- doxytag: member="rkh.h::RKH_DCLR_COMP_STATE" ref="ab856423b3e65be3f55b7df3b2984e5fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_COMP_STATE&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_r_e_g___t.html">RKHSREG_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Declares a previously created state/pseudostate to be used as a global object.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00548">548</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae15f169feaafe7cf7e335e24e76039b9"></a><!-- doxytag: member="rkh.h::RKH_DCLR_COND_STATE" ref="ae15f169feaafe7cf7e335e24e76039b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_COND_STATE&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_c_o_n_d___t.html">RKHSCOND_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Declares a previously created state/pseudostate to be used as a global object.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00550">550</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a042e46c64f90aa08a92db9e9d30e1959"></a><!-- doxytag: member="rkh.h::RKH_DCLR_DHIST_STATE" ref="a042e46c64f90aa08a92db9e9d30e1959" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_DHIST_STATE&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Declares a previously created state/pseudostate to be used as a global object.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00552">552</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0681b6c5bbb43a2290ed60b021c2abd1"></a><!-- doxytag: member="rkh.h::RKH_DCLR_HSM" ref="a0681b6c5bbb43a2290ed60b021c2abd1" args="(h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_HSM</td>
          <td>(</td>
          <td class="paramtype">h&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;extern <a class="el" href="struct_r_k_h___t.html">RKH_T</a> * const h</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro declares a opaque pointer to previously created state machine to be used as a global object. </p>
<p>This global pointer represent the state machine in the application. The state machine pointers are "opaque" because they cannot access the whole state machine structure, but only the part inherited from the <a class="el" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a> structure. The power of an "opaque" pointer is that it allows to completely hide the definition of the state machine structure and make it inaccessible to the rest of the application.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="rkh_8h.html#a290baf778561e431e02c611bb5dd9146" title="This macro creates a state machine object derived from RKH_T.">RKH_CREATE_HSM()</a> macro.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>name of state machine. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00536">536</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2862a673eba565cd2888ca5fb3405a38"></a><!-- doxytag: member="rkh.h::RKH_DCLR_JUNC_STATE" ref="a2862a673eba565cd2888ca5fb3405a38" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_JUNC_STATE&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_j_u_n_c___t.html">RKHSJUNC_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Declares a previously created state/pseudostate to be used as a global object.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00551">551</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa618e2849fbd748f672bd5e0b3b6bb16"></a><!-- doxytag: member="rkh.h::RKH_DCLR_SHIST_STATE" ref="aa618e2849fbd748f672bd5e0b3b6bb16" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_SHIST_STATE&nbsp;&nbsp;&nbsp;extern rkhrom <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Declares a previously created state/pseudostate to be used as a global object.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's header file. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00553">553</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="afafab03a0e8aa09a8ef350afa1c59964"></a><!-- doxytag: member="rkh.h::RKH_DCLR_SM_GLOBAL" ref="afafab03a0e8aa09a8ef350afa1c59964" args="(sm_t, sm, gob)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_DCLR_SM_GLOBAL</td>
          <td>(</td>
          <td class="paramtype">sm_t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gob&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                            sm_t * <span class="keyword">const</span> gob = &amp;s_##sm;
</pre></div>
<p>Declares a previously created state machine to be used as a global object. </p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    <span class="comment">//  ...within state-machine&#39;s module</span>

    <span class="keyword">typedef</span> <span class="keyword">struct</span>
    {
        <a class="code" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a> sm;       <span class="comment">// base structure</span>
        rkhuint8 x;     <span class="comment">// private member</span>
        rkhuint8 y;     <span class="comment">// private member</span>
    } MYSM_T;

    <span class="comment">//  static instance of state machine object</span>
    <a class="code" href="rkh_8h.html#a290baf778561e431e02c611bb5dd9146" title="This macro creates a state machine object derived from RKH_T.">RKH_CREATE_HSM</a>( MYSM_T, my, 0, <a class="code" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda">HCAL</a>, &amp;S1, my_init, &amp;mydata );

    <span class="comment">//  g_my: global pointer to &quot;my&quot; state machine object.</span>
    <a class="code" href="rkh_8h.html#afafab03a0e8aa09a8ef350afa1c59964" title="Declares a previously created state machine to be used as a global object.">RKH_DCLR_SM_GLOBAL</a>( MYSM_T, my, g_my );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h___t.html" title="Describes the state machine.">RKH_T</a> structure definition for more information. Also, <a class="el" href="struct_r_k_h_e_v_t___t.html">single inheritance in C </a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sm_t</em>&nbsp;</td><td>type of state machine structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sm</em>&nbsp;</td><td>name of state machine object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gob</em>&nbsp;</td><td>name of global object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Generally, this macro is used in the state-machine's module. </dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00593">593</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0e90290b709c86a39384ea5a4c95ac4f"></a><!-- doxytag: member="rkh.h::RKH_END_TRANS_TABLE" ref="a0e90290b709c86a39384ea5a4c95ac4f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_END_TRANS_TABLE&nbsp;&nbsp;&nbsp;RKH_ETRTBL};</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This macro is used to terminate a state transition table. </p>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00453">453</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae32100c17bee5afab9b31d9132ad41bb"></a><!-- doxytag: member="rkh.h::rkh_get_cstate_id" ref="ae32100c17bee5afab9b31d9132ad41bb" args="(ph)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rkh_get_cstate_id</td>
          <td>(</td>
          <td class="paramtype">ph&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                ((<a class="code" href="struct_r_k_h_b_a_s_e___t.html" title="Maintains the basic information of a state.">RKHBASE_T</a>*)(ph-&gt;state))-&gt;id
</pre></div>
<p>This macro retrieves the state ID of state machine control block. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ph</em>&nbsp;</td><td>pointer to state machine control block. Represents a previously created HSM structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>
<p>Id of current state. </p>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00833">833</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9417335cf8e391658a5566c695c2813b"></a><!-- doxytag: member="rkh.h::rkh_get_cstate_name" ref="a9417335cf8e391658a5566c695c2813b" args="(ph)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rkh_get_cstate_name</td>
          <td>(</td>
          <td class="paramtype">ph&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                ((<a class="code" href="struct_r_k_h_b_a_s_e___t.html" title="Maintains the basic information of a state.">RKHBASE_T</a>*)(ph-&gt;state))-&gt;name
</pre></div>
<p>This macro retrieves the current state name of state machine control block. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ph</em>&nbsp;</td><td>pointer to state machine control block. Represents a previously created HSM structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>
<p>Name of current state. </p>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00850">850</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7fe577bfbd5492f9e946a22d1e88c70d"></a><!-- doxytag: member="rkh.h::rkh_get_data" ref="a7fe577bfbd5492f9e946a22d1e88c70d" args="(ph)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rkh_get_data</td>
          <td>(</td>
          <td class="paramtype">ph&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                ((ph)-&gt;hdata)
</pre></div>
<p>This macro retrieves the state-machine's data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ph</em>&nbsp;</td><td>pointer to state-machine control block. Represents a previously created HSM structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>
<p>Pointer to state-machine's data. </p>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00866">866</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="aafa7b99c6789668667bf529f20bb6c65"></a><!-- doxytag: member="rkh.h::rkh_get_sdata" ref="aafa7b99c6789668667bf529f20bb6c65" args="(ph)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rkh_get_sdata</td>
          <td>(</td>
          <td class="paramtype">ph&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">\
                                ((ph)-&gt;state-&gt;sdata)
</pre></div>
<p>This macro retrieves the state's abstract data. </p>
<p>Aditionally, by means of single inheritance in C it could be used as state's abstract data. Aditionally, implementing the single inheritance in C is very simply by literally embedding the base type, <a class="el" href="rkhitl_8h.html#a3b113df002d9c5d3422f369fd701ffe3" title="Event preprocessor.">RKHPPRO_T</a> in this case, as the first member of the derived structure. See member <em>prepro</em> of <a class="el" href="struct_r_k_h_s_r_e_g___t.html" title="Describes a regular state.">RKHSREG_T</a> structure for more information.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ph</em>&nbsp;</td><td>pointer to state machine control block. Represents a previously created state machine structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>
<p>Pointer to state's abstract data. </p>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00889">889</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a17ecc578a95f10567c300a1cf648e13d"></a><!-- doxytag: member="rkh.h::rkh_set_static_event" ref="a17ecc578a95f10567c300a1cf648e13d" args="(evt, es)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rkh_set_static_event</td>
          <td>(</td>
          <td class="paramtype">evt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">es&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;mksevt( evt, es )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro set the event 'evt' with 'e' signal and establishes it as one static event. </p>
<p>Example: </p>
<div class="fragment"><pre class="fragment">    ...
    <a class="code" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a> e;

    <a class="code" href="rkh_8h.html#a17ecc578a95f10567c300a1cf648e13d" title="This macro set the event &amp;#39;evt&amp;#39; with &amp;#39;e&amp;#39; signal and establishes it...">rkh_set_static_event</a>( &amp;e, TOUT );
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>evt</em>&nbsp;</td><td>pointer to event structure derived from <a class="el" href="struct_r_k_h_e_v_t___t.html" title="Represents events without parameters.">RKHEVT_T</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>es</em>&nbsp;</td><td>event signal. The RKH takes this value for triggering a state transition.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00784">784</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac257d157f98ef172e5e8c8725a293bdf"></a><!-- doxytag: member="rkh.h::RKH_TRINT" ref="ac257d157f98ef172e5e8c8725a293bdf" args="(e, g, a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_TRINT</td>
          <td>(</td>
          <td class="paramtype">e, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">g, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">a&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;{ e, g, a, NULL }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro defines an internal state transition. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>triggering event. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>g</em>&nbsp;</td><td>pointer to guard function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>pointer to action function. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00438">438</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab0fc2ccb4b73d57ea0c0f478353a00f6"></a><!-- doxytag: member="rkh.h::RKH_TRREG" ref="ab0fc2ccb4b73d57ea0c0f478353a00f6" args="(e, g, a, t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RKH_TRREG</td>
          <td>(</td>
          <td class="paramtype">e, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">g, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;{ e, g, a, t }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This macro defines a regular state transition. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h_t_r___t.html" title="Describes the state transition.">RKHTR_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>triggering event. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>g</em>&nbsp;</td><td>pointer to guard function. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>pointer to action function. This argument is optional, thus it could be declared as NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>pointer to target state. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00423">423</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a06fc87d81c62e9abb8790b6e5713c55b"></a><!-- doxytag: member="rkh.h::@0" ref="a06fc87d81c62e9abb8790b6e5713c55b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This values are retrived by guard functions. A guard is a boolean condition that returns a TRUE or FALSE value that controls whether or not a transition is taken following the receipt of a triggering event. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a06fc87d81c62e9abb8790b6e5713c55bab2834a90f78254076ef72298dc9e5e95"></a><!-- doxytag: member="RKH_GFALSE" ref="a06fc87d81c62e9abb8790b6e5713c55bab2834a90f78254076ef72298dc9e5e95" args="" -->RKH_GFALSE</em>&nbsp;</td><td>
<p>False condition </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a06fc87d81c62e9abb8790b6e5713c55bafe08c2d352ce11183556bab12489e736"></a><!-- doxytag: member="RKH_GTRUE" ref="a06fc87d81c62e9abb8790b6e5713c55bafe08c2d352ce11183556bab12489e736" args="" -->RKH_GTRUE</em>&nbsp;</td><td>
<p>True condition </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00605">605</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="a243967727eeb1814b24badfeda7b25b7"></a><!-- doxytag: member="rkh.h::RKH_HPPTY_T" ref="a243967727eeb1814b24badfeda7b25b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rkh_8h.html#a243967727eeb1814b24badfeda7b25b7">RKH_HPPTY_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>State machine properties. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda"></a><!-- doxytag: member="HCAL" ref="a243967727eeb1814b24badfeda7b25b7af9de2b2b683900d16cf6a78acb458eda" args="" -->HCAL</em>&nbsp;</td><td>
<p>Used as state machine property. This macro enables state nesting in a particular state machine. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a243967727eeb1814b24badfeda7b25b7a0338024d4d0d5bffed604c279f8f5550"></a><!-- doxytag: member="FLAT" ref="a243967727eeb1814b24badfeda7b25b7a0338024d4d0d5bffed604c279f8f5550" args="" -->FLAT</em>&nbsp;</td><td>
<p>Used as state machine property. This macro disables state nesting in a particular state machine. When FLAT is used in <a class="el" href="rkh_8h.html#a290baf778561e431e02c611bb5dd9146" title="This macro creates a state machine object derived from RKH_T.">RKH_CREATE_HSM()</a> macro some important features of RKH are not included: state nesting, composite state, history (shallow and deep) pseudostate, entry action, and exit action. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a243967727eeb1814b24badfeda7b25b7aac7de3818e7e86853c5306edd63bced3"></a><!-- doxytag: member="RKH_NUM_HPPTY" ref="a243967727eeb1814b24badfeda7b25b7aac7de3818e7e86853c5306edd63bced3" args="" -->RKH_NUM_HPPTY</em>&nbsp;</td><td>
<p>Number of state machines properties </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00118">118</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3"></a><!-- doxytag: member="rkh.h::RKH_RCODE_T" ref="ad7ffdf67be28296726e65d6b7223f5e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rkh_8h.html#ad7ffdf67be28296726e65d6b7223f5e3">RKH_RCODE_T</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return codes from <a class="el" href="rkh_8h.html#a380f0c7ce60d43d96b7963d12f4aae55" title="Executes a state machine in a non-preemtive model.">rkh_engine()</a> function. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a567323b6c0efa1f3368064615c9d5dcd"></a><!-- doxytag: member="RKH_OK" ref="ad7ffdf67be28296726e65d6b7223f5e3a567323b6c0efa1f3368064615c9d5dcd" args="" -->RKH_OK</em>&nbsp;</td><td>
<p>The arrived event was succesfully processed and HSM resides in a allowed state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a0c9fe6c670ea1e83ca5c3a5666ca1181"></a><!-- doxytag: member="RKH_INPUT_NOT_FOUND" ref="ad7ffdf67be28296726e65d6b7223f5e3a0c9fe6c670ea1e83ca5c3a5666ca1181" args="" -->RKH_INPUT_NOT_FOUND</em>&nbsp;</td><td>
<p>The arrived event was't founded in the transition table. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a24fbaf67d8677779b69f3a133ec22772"></a><!-- doxytag: member="RKH_CONDITION_NOT_FOUND" ref="ad7ffdf67be28296726e65d6b7223f5e3a24fbaf67d8677779b69f3a133ec22772" args="" -->RKH_CONDITION_NOT_FOUND</em>&nbsp;</td><td>
<p>The branch function returned a value not founded in the branch table. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3ae46b1cbd592c25a27720783efb3b21f4"></a><!-- doxytag: member="RKH_GUARD_FALSE" ref="ad7ffdf67be28296726e65d6b7223f5e3ae46b1cbd592c25a27720783efb3b21f4" args="" -->RKH_GUARD_FALSE</em>&nbsp;</td><td>
<p>The transition was cancelled by guard function. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a067ecd2890ffed78d08680c9f029594c"></a><!-- doxytag: member="RKH_UNKNOWN_STATE" ref="ad7ffdf67be28296726e65d6b7223f5e3a067ecd2890ffed78d08680c9f029594c" args="" -->RKH_UNKNOWN_STATE</em>&nbsp;</td><td>
<p>Unknown state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a42666d274d23ded0e35db3b52a6681e8"></a><!-- doxytag: member="RKH_EXCEED_HCAL_LEVEL" ref="ad7ffdf67be28296726e65d6b7223f5e3a42666d274d23ded0e35db3b52a6681e8" args="" -->RKH_EXCEED_HCAL_LEVEL</em>&nbsp;</td><td>
<p>The transition exceeded the allowed hierarchical level. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3a793e9c62f0ebf4bb3c221567ff80bf77"></a><!-- doxytag: member="RKH_EXCEED_TR_SEGS" ref="ad7ffdf67be28296726e65d6b7223f5e3a793e9c62f0ebf4bb3c221567ff80bf77" args="" -->RKH_EXCEED_TR_SEGS</em>&nbsp;</td><td>
<p>The transition exceeded the allowed number of segments within a compound transtion. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad7ffdf67be28296726e65d6b7223f5e3adb6db8102ad27b1b187bc07070669243"></a><!-- doxytag: member="RKH_NUM_CODES" ref="ad7ffdf67be28296726e65d6b7223f5e3adb6db8102ad27b1b187bc07070669243" args="" -->RKH_NUM_CODES</em>&nbsp;</td><td>
<p>Number of returned codes </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="rkh_8h_source.html#l00048">48</a> of file <a class="el" href="rkh_8h_source.html">rkh.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a522044fea14a01a5197ccd35a5a0eb79"></a><!-- doxytag: member="rkh.h::rkh_clear_history" ref="a522044fea14a01a5197ccd35a5a0eb79" args="(rkhrom RKHSHIST_T *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_clear_history </td>
          <td>(</td>
          <td class="paramtype">rkhrom <a class="el" href="struct_r_k_h_s_h_i_s_t___t.html">RKHSHIST_T</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase the history of a state. It can be a shallow or deep history. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>pointer to history pseudostate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8738812d2675799e9a982e86fb5c4e52"></a><!-- doxytag: member="rkh.h::rkh_clear_info" ref="a8738812d2675799e9a982e86fb5c4e52" args="(RKH_T *ph)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_clear_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h___t.html">RKH_T</a> *&nbsp;</td>
          <td class="paramname"> <em>ph</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clear performance information for a particular state machine. </p>
<p>Information is available during run-time for each state machine. This information can be useful in determining whether the application is performing properly, as well as helping to optimize the application.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h___i_n_f_o___t.html" title="Describes the state-machine&#39;s performance information.">RKH_INFO_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ph</em>&nbsp;</td><td>pointer to state machine control block. Represents a previously created HSM structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af359d4e8f6cec6ca30f5797ee263af52"></a><!-- doxytag: member="rkh.h::rkh_defer" ref="af359d4e8f6cec6ca30f5797ee263af52" args="(HUInt qd, RKHEVT_T *evt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_defer </td>
          <td>(</td>
          <td class="paramtype">HUInt&nbsp;</td>
          <td class="paramname"> <em>qd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&nbsp;</td>
          <td class="paramname"> <em>evt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defer an event to a given separate event queue. </p>
<p>Event deferral comes in very handy when an event arrives in a particularly inconvenient moment but can be deferred for some later time, when the system is in a much better position to handle the event. RKH supports very efficient event deferring and recalling mechanisms. This function is part of the event deferral mechanism. An active object uses this function to defer an event <em>evt</em> to the event queue <em>qd</em>. RKH correctly accounts for another outstanding reference to the event and will not recycle the event at the end of the RTC step. Later, the active object might recall one event at a time from the event queue by means of <a class="el" href="rkh_8h.html#a7a45f14cc8f32bcad2798dafbe28ed1d" title="Recall a deferred event from a given event queue.">rkh_recall()</a> function.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>For memory efficiency and best performance the deferred event queue, STORE ONLY POINTERS to events, not the whole event objects. An active object can use multiple event queues to defer events of different kinds. The assertion inside it guarantee that operation is valid, so is not necessary to check the value returned from it.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qd</em>&nbsp;</td><td>event queue descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>evt</em>&nbsp;</td><td>pointer to event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a380f0c7ce60d43d96b7963d12f4aae55"></a><!-- doxytag: member="rkh.h::rkh_engine" ref="a380f0c7ce60d43d96b7963d12f4aae55" args="(RKH_T *ph, RKHEVT_T *pevt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HUInt rkh_engine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h___t.html">RKH_T</a> *&nbsp;</td>
          <td class="paramname"> <em>ph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&nbsp;</td>
          <td class="paramname"> <em>pevt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Executes a state machine in a non-preemtive model. </p>
<p>In this model, before the system handles a new event it can store it until the previous event has completed processing. This model is called run to completion or RTC. Thus, the system processes events in discrete, indivisible RTC steps.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ph</em>&nbsp;</td><td>pointer to state machine control block. Represents a previously created HSM structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pevt</em>&nbsp;</td><td>pointer to arrived event. It's used as state-machine's input alphabet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>
<p>Result RKH_RCODE_T code. </p>

</div>
</div>
<a class="anchor" id="a6d09c23f535c6e03355918e96b802974"></a><!-- doxytag: member="rkh.h::rkh_gc" ref="a6d09c23f535c6e03355918e96b802974" args="(RKHEVT_T *evt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_gc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&nbsp;</td>
          <td class="paramname"> <em>evt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recycle a dynamic event. </p>
<p>This function implements a simple garbage collector for the dynamic events. Only dynamic events are candidates for recycling. (A dynamic event is one that is allocated from an event pool, which is determined as non-zero e-&gt;dynamic_ attribute.) Next, the function decrements the reference counter of the event, and recycles the event only if the counter drops to zero (meaning that no more references are outstanding for this event). The dynamic event is recycled by returning it to the pool from which it was originally allocated. The pool-of-origin information is stored in the upper 2-MSBs of the e-&gt;dynamic_ attribute [MS]. Note that the data member dynamic_ of a dynamic event cannot be zero because the two most significant bits of the byte hold the pool ID, with valid values of 1, 2, or 3.</p>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>
<p>The garbage collector must be explicitly invoked at all appropriate contexts, when an event can become garbage (automatic garbage collection).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>evt</em>&nbsp;</td><td>pointer to event to be potentially recycled. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4dc5198b4e6e7d11ce12a53179cba8ce"></a><!-- doxytag: member="rkh.h::rkh_get_info" ref="a4dc5198b4e6e7d11ce12a53179cba8ce" args="(RKH_T *ph)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_k_h___i_n_f_o___t.html">RKH_INFO_T</a>* rkh_get_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h___t.html">RKH_T</a> *&nbsp;</td>
          <td class="paramname"> <em>ph</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves performance information for a particular state machine. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="struct_r_k_h___i_n_f_o___t.html" title="Describes the state-machine&#39;s performance information.">RKH_INFO_T</a> structure definition for more information.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ph</em>&nbsp;</td><td>pointer to state machine control block. Represents a previously created HSM structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>
<p>A pointer to performance information structure. </p>

</div>
</div>
<a class="anchor" id="a48cd2bb428383f544f4eea92f78b7985"></a><!-- doxytag: member="rkh.h::rkh_init_hsm" ref="a48cd2bb428383f544f4eea92f78b7985" args="(RKH_T *ph)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_init_hsm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_k_h___t.html">RKH_T</a> *&nbsp;</td>
          <td class="paramname"> <em>ph</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inits a previously created state machine calling its initializing function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ph</em>&nbsp;</td><td>pointer to state machine control block. Represents a previously created HSM structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad45fff41ba029b0548a744a846fba126"></a><!-- doxytag: member="rkh.h::rkh_put_fifo" ref="ad45fff41ba029b0548a744a846fba126" args="(HUInt qd, RKHEVT_T *evt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_put_fifo </td>
          <td>(</td>
          <td class="paramtype">HUInt&nbsp;</td>
          <td class="paramname"> <em>qd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&nbsp;</td>
          <td class="paramname"> <em>evt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Posts an event directly to the event queue <em>qd</em> using the LIFO policy. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>For memory efficiency and best performance the AO's event queue, STORE ONLY POINTERS to events, not the whole event objects. The LIFO policy should be used only with great caution because it alters order of events in the queue. At this time, this functions are required only when the user application is used dynamic event (RKH_EN_DYNAMIC_EVENT == 1). The assertion inside it guarantee that the pointer is valid, so is not necessary to check the pointer returned from <a class="el" href="rkh_8h.html#ad45fff41ba029b0548a744a846fba126" title="Posts an event directly to the event queue qd using the LIFO policy.">rkh_put_fifo()</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qd</em>&nbsp;</td><td>event queue descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>evt</em>&nbsp;</td><td>pointer to event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac66a92c3f209ce2da2b0710e691412bf"></a><!-- doxytag: member="rkh.h::rkh_put_lifo" ref="ac66a92c3f209ce2da2b0710e691412bf" args="(HUInt qd, RKHEVT_T *evt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rkh_put_lifo </td>
          <td>(</td>
          <td class="paramtype">HUInt&nbsp;</td>
          <td class="paramname"> <em>qd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a> *&nbsp;</td>
          <td class="paramname"> <em>evt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Posts an event directly to the event queue <em>qd</em> using the FIFO policy. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>For memory efficiency and best performance the AO's event queue, STORE ONLY POINTERS to events, not the whole event objects. At this time, this functions are required only when the user application is used dynamic event (RKH_EN_DYNAMIC_EVENT == 1). The assertion inside it guarantee that the pointer is valid, so is not necessary to check the pointer returned from <a class="el" href="rkh_8h.html#ac66a92c3f209ce2da2b0710e691412bf" title="Posts an event directly to the event queue qd using the FIFO policy.">rkh_put_lifo()</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qd</em>&nbsp;</td><td>event queue descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>evt</em>&nbsp;</td><td>pointer to event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7a45f14cc8f32bcad2798dafbe28ed1d"></a><!-- doxytag: member="rkh.h::rkh_recall" ref="a7a45f14cc8f32bcad2798dafbe28ed1d" args="(HUInt qdd, HUInt qds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_k_h_e_v_t___t.html">RKHEVT_T</a>* rkh_recall </td>
          <td>(</td>
          <td class="paramtype">HUInt&nbsp;</td>
          <td class="paramname"> <em>qdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HUInt&nbsp;</td>
          <td class="paramname"> <em>qds</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recall a deferred event from a given event queue. </p>
<p>This function is part of the event deferral support. An active object uses this function to recall a deferred event from a given event queue. Recalling an event means that it is removed from the deferred event queue <em>qds</em> and posted (LIFO) to the event queue of the active object <em>qdd</em>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>For memory efficiency and best performance the destination event queue, STORE ONLY POINTERS to events, not the whole event objects.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The pointer to the recalled event to the caller, or NULL if no event has been recalled. </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Jul 14 22:52:25 2011 for RKH by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
